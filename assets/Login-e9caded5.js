import{_ as f,u as h,r as l,w,a as v,b,d as y,o as u,e as g,f as s,g as m,v as p,t as _,h as L,i as x,j as k,k as N,l as d}from"./index-b1a8d95c.js";const V={setup(){const n=h(),t=l(n.isAuthenticatedGetter);w(t,o=>{console.log("isAuthenticated changed:",o)});const a=v({email:"",password:""}),e=l(""),i=l(!1),r=b();return{user:a,loginMessage:e,isLoading:i,isAuthenticatedState:t,login:async()=>{try{i.value=!0;const o=await n.login(a);o===1?r.push("/addexercise"):o===2?r.push("/"):console.error("Invalid user role:",o)}catch{e.value="Login failed: Wrong email or passsord"}finally{i.value=!1,a.email="",a.password=""}}}}},M={class:"login-container"},A=s("h1",{class:"Login"},[d(" No Pain, "),s("br"),d(" No Gain. ")],-1),B={class:"form-group"},E=s("label",{for:"email"},"Email:",-1),S={class:"form-group"},C=s("label",{for:"password"},"Password:",-1),R={class:"button-container"},q=["disabled"],D={key:0,class:"error-message"},G=s("p",null,"If you don't have an account, please register",-1);function I(n,t,a,e,i,r){const c=y("router-link");return u(),g("div",M,[s("form",{id:"loginForm1",onSubmit:t[2]||(t[2]=N((...o)=>e.login&&e.login(...o),["prevent"]))},[A,s("div",B,[E,m(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.user.email=o),type:"email",id:"email",name:"email",required:"",autocomplete:"email"},null,512),[[p,e.user.email]])]),s("div",S,[C,m(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>e.user.password=o),type:"password",id:"password",name:"password",required:"",autocomplete:"current-password"},null,512),[[p,e.user.password]])]),s("div",R,[s("button",{id:"loginButton",class:"glowing-btn",type:"submit",disabled:e.isLoading},_(e.isLoading?"Logging in...":"Login"),9,q),e.loginMessage?(u(),g("p",D,_(e.loginMessage),1)):L("",!0)]),G,x(c,{to:"/registration",class:"register"},{default:k(()=>[d("HERE")]),_:1})],32)])}const T=f(V,[["render",I]]);export{T as default};
